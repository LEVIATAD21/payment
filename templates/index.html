<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento Bitcoin - Sistema Hacker</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-lg">
                    <div class="card-header bg-dark text-white">
                        <h2 class="text-center mb-0">
                            üöÄ Sistema de Pagamentos Bitcoin
                        </h2>
                        <p class="text-center mb-0">Pague com cart√£o, receba em Bitcoin automaticamente</p>
                    </div>
                    <div class="card-body">
                        <!-- Stats em tempo real -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card bg-success text-white">
                                    <div class="card-body text-center">
                                        <h5>Pre√ßo Bitcoin</h5>
                                        <h3 id="btc-price">Carregando...</h3>
                                        <small>Atualizado em tempo real</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card bg-info text-white">
                                    <div class="card-body text-center">
                                        <h5>Taxa de Convers√£o</h5>
                                        <h3>1%</h3>
                                        <small>Taxa m√≠nima do mercado</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Formul√°rio -->
                        <form id="payment-form">
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" placeholder="seu@email.com" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Nome Completo</label>
                                <input type="text" class="form-control" id="name" placeholder="Seu Nome" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="amount" class="form-label">Valor (R$)</label>
                                <input type="number" class="form-control" id="amount" min="10" max="10000" step="0.01" placeholder="100.00" required>
                                <div class="form-text">M√≠n: R$ 10,00 | M√°x: R$ 10.000,00</div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">Tipo de Pagamento</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="type" id="unique" value="unique" checked>
                                    <label class="form-check-label" for="unique">Pagamento √önico</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="type" id="subscription" value="subscription">
                                    <label class="form-check-label" for="subscription">Assinatura Mensal</label>
                                </div>
                            </div>
                            
                            <!-- Preview da convers√£o -->
                            <div id="preview" class="alert alert-info" style="display: none;">
                                <h6>Preview da Convers√£o:</h6>
                                <div id="preview-details"></div>
                            </div>
                            
                            <!-- Dados do cart√£o (em prod, use Stripe Elements) -->
                            <div class="mb-3">
                                <label class="form-label">Dados do Cart√£o (Teste)</label>
                                <div class="row">
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" id="card-number" placeholder="4242424242424242" value="4242424242424242">
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="exp-month" placeholder="MM" value="12">
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="exp-year" placeholder="YYYY" value="2025">
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-4">
                                        <input type="text" class="form-control" id="cvc" placeholder="CVC" value="123">
                                    </div>
                                </div>
                            </div>
                            
                            <div id="errors" class="alert alert-danger" style="display: none;"></div>
                            
                            <button type="submit" class="btn btn-success btn-lg w-100" id="submit-btn">
                                <span id="btn-text">Pagar e Converter para Bitcoin</span>
                                <span id="spinner" class="spinner-border spinner-border-sm ms-2" style="display: none;"></span>
                            </button>
                        </form>
                    </div>
                </div>
                
                <!-- HACK: Se√ß√£o Dropship -->
                <div class="card mt-4">
                    <div class="card-header bg-warning text-dark">
                        <h5><i class="fas fa-shopping-cart"></i> Dropship Autom√°tico</h5>
                    </div>
                    <div class="card-body">
                        <p>Adicione produtos dropship e converta vendas para Bitcoin automaticamente!</p>
                        <button onclick="showDropshipProducts()" class="btn btn-warning">
                            <i class="fas fa-store"></i> Ver Produtos Dropship
                        </button>
                        <button onclick="dropshipUpsell()" class="btn btn-info ml-2">
                            <i class="fas fa-rocket"></i> Upsell Autom√°tico
                        </button>
                        <div id="dropship-products" class="mt-3" style="display: none;"></div>
                    </div>
                </div>
                
                <!-- HACK: Se√ß√£o Marketing -->
                <div class="card mt-4">
                    <div class="card-header bg-danger text-white">
                        <h5><i class="fas fa-bullhorn"></i> Marketing Hacker</h5>
                    </div>
                    <div class="card-body">
                        <p>Sistema de marketing autom√°tico p√≥s-pagamento!</p>
                        <button onclick="testUpsell()" class="btn btn-danger">
                            <i class="fas fa-envelope"></i> Testar Email Upsell
                        </button>
                        <button onclick="showFeeOptimization()" class="btn btn-secondary ml-2">
                            <i class="fas fa-chart-line"></i> Otimiza√ß√£o de Taxas
                        </button>
                        <div id="marketing-results" class="mt-3"></div>
                    </div>
                </div>
                
                <!-- Info adicional -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h5>Como Funciona:</h5>
                        <ol>
                            <li>Insira seus dados e valor desejado</li>
                            <li>O sistema calcula automaticamente a convers√£o para Bitcoin</li>
                            <li>Pague com seu cart√£o de cr√©dito/d√©bito</li>
                            <li>O valor √© convertido para Bitcoin e enviado para nossa wallet</li>
                            <li>Convers√£o autom√°tica via webhooks</li>
                            <li><strong>HACK:</strong> Marketing autom√°tico + Dropship integrado</li>
                        </ol>
                        
                        <div class="alert alert-warning">
                            <strong>Modo Teste:</strong> Use cart√µes de teste do Stripe (4242424242424242)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>
